{
  "version": 6,
  "cmakeMinimumRequired": { "major": 4, "minor": 1, "patch": 2 },
  "configurePresets": [
    {
      "name": "base",
      "hidden": true,
      "generator": "Ninja Multi-Config",
      "binaryDir": "${sourceDir}/build",
      "installDir": "${sourceDir}/build/install",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "RelWithDebInfo",
        "CMAKE_CXX_SCAN_FOR_MODULES": "1",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "1"
      }
    },
    {
      "name": "base-ninja",
      "hidden": true,
      "generator": "Ninja Multi-Config",
      "inherits": ["base"],
      "cacheVariables": {
        "CMAKE_DEFAULT_BUILD_TYPE": "RelWithDebInfo"
      }
    },
    {
      "name": "base-msvc-vs2022",
      "hidden": true,
      "generator": "Visual Studio 17 2022",
      "inherits": ["base"]
    },
    {
      "name": "base-msvc-vs2026",
      "hidden": true,
      "generator": "Visual Studio 18 2026",
      "inherits": ["base"]
    },
    {
      "name": "features-full",
      "hidden": true,
      "cacheVariables": {
        "PRAGMA_WITH_PFM": "1",
        "PRAGMA_WITH_VR": "1",
        "PRAGMA_WITH_NETWORKING": "1",
        "PRAGMA_WITH_COMMON_ENTITIES": "1",
        "PRAGMA_WITH_COMMON_MODULES": "1",
        "PRAGMA_WITH_ESSENTIAL_CLIENT_MODULES": "1"
      }
    },
    {
      "name": "platform-linux",
      "hidden": true,
      "condition": { "type": "equals", "lhs": "${hostSystemName}", "rhs": "Linux" }
    },
    {
      "name": "platform-windows",
      "hidden": true,
      "condition": { "type": "equals", "lhs": "${hostSystemName}", "rhs": "Windows" }
    },

    {
      "name": "config-linux-clang",
      "displayName": "[Linux] Configure - Clang (Core Features)",
      "inherits": ["base-ninja", "platform-linux"],
      "cacheVariables": {
        "CMAKE_C_COMPILER": "${sourceDir}/build_tools/clang/bin/clang",
        "CMAKE_CXX_COMPILER": "${sourceDir}/build_tools/clang/bin/clang++"
      }
    },
    {
      "name": "config-linux-clang-full",
      "displayName": "[Linux] Configure - Clang (All Features)",
      "inherits": ["config-linux-clang", "features-full"]
    },

    {
      "name": "config-windows-clang-ninja",
      "displayName": "[Windows] Configure - Clang with Ninja (Core Features)",
      "inherits": ["base-ninja", "platform-windows"],
      "cacheVariables": {
        "CMAKE_C_COMPILER": "${sourceDir}/build_tools/clang/bin/clang.exe",
        "CMAKE_CXX_COMPILER": "${sourceDir}/build_tools/clang/bin/clang++.exe"
      }
    },
    {
      "name": "config-windows-clang-ninja-full",
      "displayName": "[Windows] Configure - Clang with Ninja (All Features)",
      "inherits": ["config-windows-clang-ninja", "features-full"]
    },

    {
      "name": "config-windows-msvc-ninja",
      "displayName": "[Windows] Configure - MSVC with Ninja (Core Features)",
      "inherits": ["base-ninja", "platform-windows"],
      "cmakeExecutable": "${sourceDir}/deps/staging/cmake/bin/cmake.exe",
      "cacheVariables": {
        "CMAKE_C_COMPILER": "cl.exe",
        "CMAKE_CXX_COMPILER": "cl.exe"
      }
    },
    {
      "name": "config-windows-msvc-ninja-full",
      "displayName": "[Windows] Configure - MSVC with Ninja (All Features)",
      "inherits": ["config-windows-msvc-ninja", "features-full"]
    },

    {
      "name": "config-windows-msvc-vs2022",
      "displayName": "[Windows] Configure - Visual Studio 2022 (Core Features)",
      "inherits": ["base-msvc-vs2022", "platform-windows"],
      "cmakeExecutable": "${sourceDir}/deps/staging/cmake/bin/cmake.exe",
      "hidden": true
    },
    {
      "name": "config-windows-msvc-vs2022-full",
      "displayName": "[Windows] Configure - Visual Studio 2022 (All Features)",
      "inherits": ["config-windows-msvc-vs2022", "features-full"],
      "hidden": true
    },

    {
      "name": "config-windows-msvc-vs2026",
      "displayName": "[Windows] Configure - Visual Studio 2026 (Core Features)",
      "inherits": ["base-msvc-vs2026", "platform-windows"],
      "cmakeExecutable": "${sourceDir}/deps/staging/cmake/bin/cmake.exe",
      "hidden": true
    },
    {
      "name": "config-windows-msvc-vs2026-full",
      "displayName": "[Windows] Configure - Visual Studio 2026 (All Features)",
      "inherits": ["config-windows-msvc-vs2026", "features-full"],
      "hidden": true
    }
  ],

  "buildPresets": [
    {
      "name": "build-base",
      "hidden": true,
      "cleanFirst": false,
      "configuration": "RelWithDebInfo"
    },
    {
      "name": "target-install",
      "hidden": true,
      "targets": "pragma-install-full"
    },

    {
      "name": "build-linux-clang",
      "displayName": "[Linux] Build - Clang (Core Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-linux-clang"
    },
    {
      "name": "build-linux-clang-full",
      "displayName": "[Linux] Build - Clang (All Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-linux-clang-full"
    },

    {
      "name": "build-windows-clang-ninja",
      "displayName": "[Windows] Build - Clang with Ninja (Core Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-clang-ninja"
    },
    {
      "name": "build-windows-clang-ninja-full",
      "displayName": "[Windows] Build - Clang with Ninja (All Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-clang-ninja-full"
    },

    {
      "name": "build-windows-msvc-ninja",
      "displayName": "[Windows] Build - MSVC with Ninja (Core Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-msvc-ninja"
    },
    {
      "name": "build-windows-msvc-ninja-full",
      "displayName": "[Windows] Build - MSVC with Ninja (All Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-msvc-ninja-full"
    },

    {
      "name": "build-windows-msvc-vs2022",
      "displayName": "[Windows] Build - Visual Studio 2022 (Core Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-msvc-vs2022",
      "hidden": true
    },
    {
      "name": "build-windows-msvc-vs2022-full",
      "displayName": "[Windows] Build - Visual Studio 2022 (All Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-msvc-vs2022-full",
      "hidden": true
    },

    {
      "name": "build-windows-msvc-vs2026",
      "displayName": "[Windows] Build - Visual Studio 2026 (Core Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-msvc-vs2026",
      "hidden": true
    },
    {
      "name": "build-windows-msvc-vs2026-full",
      "displayName": "[Windows] Build - Visual Studio 2026 (All Features)",
      "inherits": ["build-base", "target-install"],
      "configurePreset": "config-windows-msvc-vs2026-full",
      "hidden": true
    }
  ],
  "workflowPresets": [
    {
      "name": "linux-clang",
      "displayName": "[Linux] Clang (Core Features)",
      "steps": [
        { "type": "configure", "name": "config-linux-clang" },
        { "type": "build",     "name": "build-linux-clang" }
      ]
    },
    {
      "name": "linux-clang-full",
      "displayName": "[Linux] Clang (All Features)",
      "steps": [
        { "type": "configure", "name": "config-linux-clang-full" },
        { "type": "build",     "name": "build-linux-clang-full" }
      ]
    },

    {
      "name": "windows-clang-ninja",
      "displayName": "[Windows] Clang with Ninja (Core Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-clang-ninja" },
        { "type": "build",     "name": "build-windows-clang-ninja" }
      ]
    },
    {
      "name": "windows-clang-ninja-full",
      "displayName": "[Windows] Clang with Ninja (All Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-clang-ninja-full" },
        { "type": "build",     "name": "build-windows-clang-ninja-full" }
      ]
    },

    {
      "name": "windows-msvc-ninja",
      "displayName": "[Windows] MSVC with Ninja (Core Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-msvc-ninja" },
        { "type": "build",     "name": "build-windows-msvc-ninja" }
      ]
    },
    {
      "name": "windows-msvc-ninja-full",
      "displayName": "[Windows] MSVC with Ninja (All Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-msvc-ninja-full" },
        { "type": "build",     "name": "build-windows-msvc-ninja-full" }
      ]
    },

    {
      "name": "windows-msvc-vs2022",
      "displayName": "[Windows] Visual Studio 2022 (Core Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-msvc-vs2022" },
        { "type": "build",     "name": "build-windows-msvc-vs2022" }
      ]
    },
    {
      "name": "windows-msvc-vs2022-full",
      "displayName": "[Windows] Visual Studio 2022 (All Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-msvc-vs2022-full" },
        { "type": "build",     "name": "build-windows-msvc-vs2022-full" }
      ]
    },

    {
      "name": "windows-msvc-vs2026",
      "displayName": "[Windows] Visual Studio 2026 (Core Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-msvc-vs2026" },
        { "type": "build",     "name": "build-windows-msvc-vs2026" }
      ]
    },
    {
      "name": "windows-msvc-vs2026-full",
      "displayName": "[Windows] Visual Studio 2026 (All Features)",
      "steps": [
        { "type": "configure", "name": "config-windows-msvc-vs2026-full" },
        { "type": "build",     "name": "build-windows-msvc-vs2026-full" }
      ]
    }
  ]
}
