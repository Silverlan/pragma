include("../../CMakeShared.txt")

add_external_library(luajit)
add_include_dir(lua)
link_external_library(shared)
link_external_library(wms_shared)
link_external_library(util_sound)
link_external_library(util_bsp)
link_external_library(bzip2)
link_external_library(recast)
link_external_library(detour)
link_external_library(spdlog)
link_external_library(fmt)
link_external_library(util_unicode)
if(WIN32)
	add_external_library(lua)
endif()

add_include_dir(libogg_build)
add_include_dir(bzip2)
add_include_dir(bvh)

add_external_library(servermanager)
add_external_library(clientmanager)
add_external_library(libvorbisfile)
add_external_library(lz4)
link_external_library(util_udm)
link_external_library(panima)

add_def(DLLSERVER_EX)
add_def(WMS_STATIC)
add_def(ENGINE_SERVER)

set(PRECOMPILED_HEADER "stdafx_server")

if(WIN32)
	add_compile_options(/bigobj)
endif()

def_project(server lib)

link_boost_library(server DEPENDENCY_BOOST_DATE_TIME_LIBRARY date_time)
link_boost_library(server DEPENDENCY_BOOST_REGEX_LIBRARY regex)
link_boost_library(server DEPENDENCY_BOOST_THREAD_LIBRARY thread)
link_boost_library(server DEPENDENCY_BOOST_CHRONO_LIBRARY chrono)
